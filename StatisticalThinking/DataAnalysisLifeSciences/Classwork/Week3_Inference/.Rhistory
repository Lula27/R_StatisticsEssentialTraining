library(downloader)
url <- "https://raw.githubusercontent.com/genomicsclass/dagdata/master/inst/extdata/babies.txt"
filename <- basename(url)
download(url, destfile=filename)
babies <- read.table("babies.txt", header=TRUE)
head(babies)
bwt.nonsmoke <- filter(babies, smoke==0) %>% select(bwt) %>%
bwt.nonsmoke <- filter(babies, smoke==0) %>% select(bwt) %>%
unlist
bwt.nonsmoke <- filter(babies, smoke==0) %>% select(bwt) %>%
unlist
require(dplyr)
bwt.nonsmoke <- filter(babies, smoke==0) %>% select(bwt) %>%
unlist
head(btw.nonsmoke)
# birth weights for smoking mothers
bwt.smoke <- filter(babies, smoke==1) %>% select(bwt) %>%
unlist
library(rafalib)
mean(bwt.nonsmoke) - mean(bwt.smoke)
popsd(bwt.nonsmoke)
popsd(bwt.smoke)
set.seed(1)
dat.ns <- sample(bwt.nonsmoke, 25)
dat.ns
length(dat.ns)
dat.s <- sample(bwt.smoke, 25)
?t.test
tstat <- t.test(dat.ns, dat.s)
tstat
tstat
pnorm(tstat)
pnorm(2.1209)
tval <- 2.1209
pval <- 1-(pnorm(abs(tval) - pnorm(-abs(tval))))
pval
tstat
pval2 <- 1-(pnorm(abs(tval))-pnorm(-abs(tval)))
pval2
pval
pval2
rm(pval)
pval2
a <- 1-2*pnorm(abs(tval))
a
b <- 1-2*pnorm(-abs(tval))
b
c <- 1-pnorm(-abs(tval))
c
d <- 2*pnorm(-abs(tval))
d
mean(dat.s) - mean(dat.ns)
N <- 25 # sample size
N <- 25 # sample size
qnorm((0.995)*sqrt(sd(dat.ns)^2)/N + sd(dat.s)^2/N)
qnorm(0.995)*sqrt( sd( dat.ns)^2/N + sd( dat.s)^2/N )
